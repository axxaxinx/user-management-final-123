"use strict";(self.webpackChunkangular_signup_verification_boilerplate=self.webpackChunkangular_signup_verification_boilerplate||[]).push([[895],{6895:(W,u,d)=>{d.r(u),d.d(u,{EmployeesModule:()=>B});var l=d(9351),s=d(7199),a=d(434),e=d(4292),h=d(9933);const E=t=>["/employees/edit",t],F=t=>["/workflows",t];function y(t,r){1&t&&e.nrm(0,"span",13)}function g(t,r){1&t&&(e.j41(0,"span"),e.EFF(1,"Delete"),e.k0s())}function k(t,r){if(1&t){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td",8)(15,"div",9)(16,"a",10),e.EFF(17,"Edit"),e.k0s(),e.j41(18,"a",10),e.EFF(19,"Workflows"),e.k0s(),e.j41(20,"button",11),e.bIt("click",function(){const o=e.eBV(i).$implicit,p=e.XpG();return e.Njj(p.deleteEmployee(o.id))}),e.DNE(21,y,1,0,"span",12)(22,g,2,0,"span",7),e.k0s()()()()}if(2&t){const i=r.$implicit;e.R7$(2),e.JRh(i.employeeId),e.R7$(2),e.JRh(null==i.user?null:i.user.email),e.R7$(2),e.JRh(i.position),e.R7$(2),e.JRh(null==i.department?null:i.department.name),e.R7$(2),e.JRh(e.i5U(11,11,i.hireDate,"mediumDate")),e.R7$(3),e.JRh(i.status),e.R7$(3),e.Y8G("routerLink",e.eq3(14,E,i.id)),e.R7$(2),e.Y8G("routerLink",e.eq3(16,F,i.id)),e.R7$(2),e.Y8G("disabled",i.isDeleting),e.R7$(),e.Y8G("ngIf",i.isDeleting),e.R7$(),e.Y8G("ngIf",!i.isDeleting)}}function b(t,r){1&t&&(e.j41(0,"tr")(1,"td",14),e.EFF(2,"No employees found"),e.k0s()())}let I=(()=>{class t{employeeService;employees=[];constructor(i){this.employeeService=i}ngOnInit(){this.employeeService.getAll().subscribe(i=>this.employees=i)}deleteEmployee(i){this.employees.find(o=>o.id===i).isDeleting=!0,this.employeeService.delete(i).subscribe(()=>this.employees=this.employees.filter(o=>o.id!==i))}static \u0275fac=function(n){return new(n||t)(e.rXU(h.O0))};static \u0275cmp=e.VBU({type:t,selectors:[["ng-component"]],decls:25,vars:2,consts:[[1,"p-4"],[1,"container"],["routerLink","add",1,"btn","btn-sm","btn-success","mb-2"],[1,"table","table-striped"],[2,"width","10%"],[2,"width","20%"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-right"],[2,"display","flex","gap","0.5rem","justify-content","flex-end"],[1,"btn","btn-sm","btn-primary","mr-1",3,"routerLink"],[1,"btn","btn-sm","btn-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],["colspan","7",1,"text-center"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Employees"),e.k0s(),e.j41(4,"a",2),e.EFF(5,"Add Employee"),e.k0s(),e.j41(6,"table",3)(7,"thead")(8,"tr")(9,"th",4),e.EFF(10,"Employee ID"),e.k0s(),e.j41(11,"th",5),e.EFF(12,"User"),e.k0s(),e.j41(13,"th",5),e.EFF(14,"Position"),e.k0s(),e.j41(15,"th",5),e.EFF(16,"Department"),e.k0s(),e.j41(17,"th",4),e.EFF(18,"Hire Date"),e.k0s(),e.j41(19,"th",4),e.EFF(20,"Status"),e.k0s(),e.nrm(21,"th",4),e.k0s()(),e.j41(22,"tbody"),e.DNE(23,k,23,18,"tr",6)(24,b,3,0,"tr",7),e.k0s()()()()),2&n&&(e.R7$(23),e.Y8G("ngForOf",o.employees),e.R7$(),e.Y8G("ngIf",!(null!=o.employees&&o.employees.length)))},dependencies:[l.Sq,l.bT,a.Wk,l.vh],encapsulation:2})}return t})();var j=d(9557),R=d(6092),C=d(6287),_=d(7773);const m=t=>({"is-invalid":t});function D(t,r){1&t&&(e.j41(0,"div"),e.EFF(1,"Employee ID is required"),e.k0s())}function $(t,r){if(1&t&&(e.j41(0,"div",17),e.DNE(1,D,2,0,"div",18),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.f.employeeId.errors.required)}}function G(t,r){if(1&t&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&t){const i=r.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.email)}}function A(t,r){1&t&&(e.j41(0,"div"),e.EFF(1,"User is required"),e.k0s())}function S(t,r){if(1&t&&(e.j41(0,"div",17),e.DNE(1,A,2,0,"div",18),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.f.userId.errors.required)}}function Y(t,r){1&t&&(e.j41(0,"div"),e.EFF(1,"Position is required"),e.k0s())}function T(t,r){if(1&t&&(e.j41(0,"div",17),e.DNE(1,Y,2,0,"div",18),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.f.position.errors.required)}}function N(t,r){if(1&t&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&t){const i=r.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.name)}}function X(t,r){1&t&&(e.j41(0,"div"),e.EFF(1,"Department is required"),e.k0s())}function q(t,r){if(1&t&&(e.j41(0,"div",17),e.DNE(1,X,2,0,"div",18),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.f.departmentId.errors.required)}}function U(t,r){1&t&&(e.j41(0,"div"),e.EFF(1,"Hire Date is required"),e.k0s())}function L(t,r){if(1&t&&(e.j41(0,"div",17),e.DNE(1,U,2,0,"div",18),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.f.hireDate.errors.required)}}function J(t,r){1&t&&(e.j41(0,"div",4)(1,"label"),e.EFF(2,"Status"),e.k0s(),e.j41(3,"select",20)(4,"option",21),e.EFF(5,"Active"),e.k0s(),e.j41(6,"option",22),e.EFF(7,"Inactive"),e.k0s()()())}let f=(()=>{class t{formBuilder;route;router;employeeService;accountService;departmentService;alertService;form;id;isAddMode;users=[];departments=[];constructor(i,n,o,p,V,H,P){this.formBuilder=i,this.route=n,this.router=o,this.employeeService=p,this.accountService=V,this.departmentService=H,this.alertService=P}ngOnInit(){this.id=this.route.snapshot.params.id,this.isAddMode=!this.id,this.form=this.formBuilder.group({employeeId:["",s.k0.required],userId:["",s.k0.required],position:["",s.k0.required],departmentId:["",s.k0.required],hireDate:["",s.k0.required],status:["Active"]}),this.accountService.getAll().subscribe(i=>this.users=i),this.departmentService.getAll().subscribe(i=>this.departments=i),this.isAddMode||this.employeeService.getById(this.id).subscribe(i=>this.form.patchValue(i))}get f(){return this.form.controls}onSubmit(){this.form.invalid||(this.isAddMode?this.createEmployee():this.updateEmployee())}createEmployee(){this.employeeService.create(this.form.value).subscribe({next:()=>{this.alertService.success("Employee created successfully",{keepAfterRouteChange:!0}),this.router.navigate(["/employees"])},error:i=>this.alertService.error(i)})}updateEmployee(){this.employeeService.update(this.id,this.form.value).subscribe({next:()=>{this.alertService.success("Employee updated successfully",{keepAfterRouteChange:!0}),this.router.navigate(["/employees"])},error:i=>this.alertService.error(i)})}static \u0275fac=function(n){return new(n||t)(e.rXU(s.ok),e.rXU(a.nX),e.rXU(a.Ix),e.rXU(j.O),e.rXU(R.D),e.rXU(C.a),e.rXU(_.u))};static \u0275cmp=e.VBU({type:t,selectors:[["ng-component"]],decls:42,vars:26,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","employeeId",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","userId",1,"form-control",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","position",1,"form-control",3,"ngClass"],["formControlName","departmentId",1,"form-control",3,"ngClass"],["type","date","formControlName","hireDate",1,"form-control",3,"ngClass"],["class","form-group",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-primary","mr-1",3,"disabled"],["routerLink","/employees",1,"btn","btn-secondary"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],["formControlName","status",1,"form-control"],["value","Active"],["value","Inactive"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2),e.k0s(),e.j41(3,"div",2)(4,"form",3),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(5,"div",4)(6,"label"),e.EFF(7,"Employee ID"),e.k0s(),e.nrm(8,"input",5),e.DNE(9,$,2,1,"div",6),e.k0s(),e.j41(10,"div",4)(11,"label"),e.EFF(12,"User"),e.k0s(),e.j41(13,"select",7)(14,"option",8),e.EFF(15,"Select User"),e.k0s(),e.DNE(16,G,2,2,"option",9),e.k0s(),e.DNE(17,S,2,1,"div",6),e.k0s(),e.j41(18,"div",4)(19,"label"),e.EFF(20,"Position"),e.k0s(),e.nrm(21,"input",10),e.DNE(22,T,2,1,"div",6),e.k0s(),e.j41(23,"div",4)(24,"label"),e.EFF(25,"Department"),e.k0s(),e.j41(26,"select",11)(27,"option",8),e.EFF(28,"Select Department"),e.k0s(),e.DNE(29,N,2,2,"option",9),e.k0s(),e.DNE(30,q,2,1,"div",6),e.k0s(),e.j41(31,"div",4)(32,"label"),e.EFF(33,"Hire Date"),e.k0s(),e.nrm(34,"input",12),e.DNE(35,L,2,1,"div",6),e.k0s(),e.DNE(36,J,8,0,"div",13),e.j41(37,"div",14)(38,"button",15),e.EFF(39,"Save"),e.k0s(),e.j41(40,"a",16),e.EFF(41,"Cancel"),e.k0s()()()()()),2&n&&(e.R7$(2),e.JRh(o.isAddMode?"Add Employee":"Edit Employee"),e.R7$(2),e.Y8G("formGroup",o.form),e.R7$(4),e.Y8G("ngClass",e.eq3(16,m,o.f.employeeId.touched&&o.f.employeeId.errors)),e.R7$(),e.Y8G("ngIf",o.f.employeeId.touched&&o.f.employeeId.errors),e.R7$(4),e.Y8G("ngClass",e.eq3(18,m,o.f.userId.touched&&o.f.userId.errors)),e.R7$(3),e.Y8G("ngForOf",o.users),e.R7$(),e.Y8G("ngIf",o.f.userId.touched&&o.f.userId.errors),e.R7$(4),e.Y8G("ngClass",e.eq3(20,m,o.f.position.touched&&o.f.position.errors)),e.R7$(),e.Y8G("ngIf",o.f.position.touched&&o.f.position.errors),e.R7$(4),e.Y8G("ngClass",e.eq3(22,m,o.f.departmentId.touched&&o.f.departmentId.errors)),e.R7$(3),e.Y8G("ngForOf",o.departments),e.R7$(),e.Y8G("ngIf",o.f.departmentId.touched&&o.f.departmentId.errors),e.R7$(4),e.Y8G("ngClass",e.eq3(24,m,o.f.hireDate.touched&&o.f.hireDate.errors)),e.R7$(),e.Y8G("ngIf",o.f.hireDate.touched&&o.f.hireDate.errors),e.R7$(),e.Y8G("ngIf",!o.isAddMode),e.R7$(2),e.Y8G("disabled",o.form.invalid))},dependencies:[l.YU,l.Sq,l.bT,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.j4,s.JD,a.Wk],encapsulation:2})}return t})();var c=d(3810),v=d(5586);const M=[{path:"",component:I,canActivate:[c.q]},{path:"add",component:f,canActivate:[c.q],data:{roles:[v.X.Admin]}},{path:"edit/:id",component:f,canActivate:[c.q],data:{roles:[v.X.Admin]}}];let O=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=e.$C({type:t});static \u0275inj=e.G2t({imports:[a.iI.forChild(M),a.iI]})}return t})(),B=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=e.$C({type:t});static \u0275inj=e.G2t({imports:[l.MD,s.X1,O]})}return t})()}}]);